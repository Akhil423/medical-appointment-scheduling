<div class="card-centered-wrapper">

  <form (ngSubmit)="onSubmit()" #appointmentForm="ngForm" class="ui form">
    <md-card class="card-centered-600">
    <md-card-title i18n>Check in walk-in patient</md-card-title>
      <md-card-content>

        <h3 i18n="Section header for appointment form">Patient</h3>
        <div>
          <p-autoComplete [(ngModel)]="model.patient" [suggestions]="filteredPatients" (completeMethod)="findPatients($event)" field="surname" placeholder="Patient" required="true" name="patient" i18n>
            <template let-patient>
              <span>{{patient?.givenName}} {{patient?.surname}}, {{patient?.dateOfBirth | date:'shortDate'}}</span>
            </template>
          </p-autoComplete>
        </div>

        <h3 i18n="Section header for appointment form">Examinations</h3>
        <div class="examinations-container">
          <p-autoComplete #examMultiChooser [(ngModel)]="model.examinations" [suggestions]="filteredExaminations" (completeMethod)="findExaminations($event)" [minLength]="1" placeholder="Examinations" field="name" [multiple]="true" name="examinations">
          </p-autoComplete>
        </div>

        <h3 i18n="Section header for appointment form">Details</h3>
        <div><md-input i18n [(ngModel)]="model.duration" placeholder="Duration" required="true" name="duration"></md-input><span class="description">E.g.: 30M, 1H, 1H40M etc.</span></div>

        <div><md-input i18n [(ngModel)]="model.date" placeholder="Date" required="true" name="date"></md-input>
        <md-input i18n [(ngModel)]="model.time" placeholder="Time" required="true" name="time"></md-input></div>

        <md-input i18n [(ngModel)]="model.title" placeholder="Title" name="title"></md-input>
        <md-input i18n [(ngModel)]="model.description" placeholder="Description" name="description"></md-input>

        <h3 i18n="Section header for appointment form">Room</h3>
        <div>
          <span i18n class="label">Room: *</span>
          <select [(ngModel)]="model.roomId" required name="room">
            <option *ngFor="let r of rooms" [value]="r?.id">{{r?.name}}</option>
          </select>
        </div>

      </md-card-content>
      <md-card-actions align="end">
        <button [disabled]="!appointmentForm.form.valid" md-button type="submit" i18n>SAVE &amp; CHECK IN</button>
      </md-card-actions>
    </md-card>
  </form>

</div>
